# ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenAPI Schema ‚Äî –ì–æ—Ç–æ–≤–æ!

## üéâ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
- ‚úÖ `typed-client.ts` ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ `openapi-fetch`
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏–∑ `api-schema.d.ts`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π refresh —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ 401

### 2. API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Auth
- ‚úÖ `registerUser()` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- ‚úÖ `loginUser()` ‚Äî –≤—Ö–æ–¥
- ‚úÖ `logoutUser()` ‚Äî –≤—ã—Ö–æ–¥
- ‚úÖ `logoutAllDevices()` ‚Äî –≤—ã—Ö–æ–¥ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ `refreshAccessToken()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

### 3. API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Users
- ‚úÖ `getUserProfile()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- ‚úÖ `updateUserProfile()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- ‚úÖ `changePassword()` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
- ‚úÖ `getUsersList()` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. React Query —Ö—É–∫–∏
- ‚úÖ `useLogin()` ‚Äî –≤—Ö–æ–¥ —Å –º—É—Ç–∞—Ü–∏–µ–π
- ‚úÖ `useRegister()` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –º—É—Ç–∞—Ü–∏–µ–π
- ‚úÖ `useUserProfile()` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å —Å –∫–µ—à–µ–º
- ‚úÖ `useUsersList()` ‚Äî —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `useUpdateProfile()` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

### 5. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ API
- ‚úÖ `config.ts` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ / –º–æ–∫–∏
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `README.md` ‚Äî –æ–±–∑–æ—Ä
- ‚úÖ `QUICKSTART.md` ‚Äî –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `HYBRID_API_GUIDE.md` ‚Äî –ø–æ–ª–Ω—ã–π –≥–∞–π–¥
- ‚úÖ `ARCHITECTURE.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏

### 7. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–∫—Ä–∏–ø—Ç `npm run generate:api` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã
- ‚úÖ –°–∫—Ä–∏–ø—Ç `npm run generate:api:file` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### 8. MSW –º–æ–∫–∏
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ handlers –±–µ–∑ auth/users
- ‚úÖ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–∫–∏ –¥–ª—è –º–µ–º–æ–≤
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ width/height

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
src/shared/api/
‚îú‚îÄ‚îÄ typed-client.ts              # –ù–æ–≤—ã–π —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ auth.ts                      # API —Ñ—É–Ω–∫—Ü–∏–∏ auth
‚îú‚îÄ‚îÄ users.ts                     # API —Ñ—É–Ω–∫—Ü–∏–∏ users
‚îú‚îÄ‚îÄ hooks.ts                     # React Query —Ö—É–∫–∏
‚îú‚îÄ‚îÄ config.ts                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ API
‚îú‚îÄ‚îÄ index.ts                     # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ README.md                    # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π README
‚îú‚îÄ‚îÄ QUICKSTART.md                # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îú‚îÄ‚îÄ HYBRID_API_GUIDE.md          # –ü–æ–ª–Ω—ã–π –≥–∞–π–¥
‚îú‚îÄ‚îÄ ARCHITECTURE.md              # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îî‚îÄ‚îÄ api-schema.d.ts              # OpenAPI —Ç–∏–ø—ã (—É–∂–µ –±—ã–ª)

src/shared/mocks/
‚îî‚îÄ‚îÄ handlers.ts                  # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –º–æ–∫–∏ (–±–µ–∑ auth/users)

.env.example                     # –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
package.json                     # –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```typescript
import { useRegister } from "@/shared/api"

function RegisterForm() {
  const { mutate: register, isPending } = useRegister()
  
  const handleSubmit = (data) => {
    register(data, {
      onSuccess: (auth) => console.log("Registered!", auth.user)
    })
  }
}
```

### –í—Ö–æ–¥

```typescript
import { useLogin } from "@/shared/api"

function LoginForm() {
  const { mutate: login } = useLogin()
  
  login({ username: "john", password: "123" })
}
```

### –ü—Ä–æ—Ñ–∏–ª—å

```typescript
import { useUserProfile } from "@/shared/api"

function ProfilePage() {
  const { data: user, isLoading } = useUserProfile()
  
  if (isLoading) return <Loading />
  return <div>Hello, {user?.username}</div>
}
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã

–ö–æ–≥–¥–∞ –±—ç–∫–µ–Ω–¥ –æ–±–Ω–æ–≤–∏–ª—Å—è:

```bash
npm run generate:api
```

–í—Å–µ —Ç–∏–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è!

## ‚û°Ô∏è –ú–∏–≥—Ä–∞—Ü–∏—è —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ —Å –º–æ–∫–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ö–µ–º—É: `npm run generate:api`
2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
3. –û–±–Ω–æ–≤–∏—Ç–µ `config.ts`
4. –£–¥–∞–ª–∏—Ç–µ –º–æ–∫–∏ –∏–∑ `handlers.ts`

## üìä –°—Ç–∞—Ç—É—Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### ‚úÖ –†–µ–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ (localhost:8080)
- `/auth/login`
- `/auth/register`
- `/auth/logout`
- `/auth/logout-all`
- `/auth/refresh`
- `/users/profile`
- `/users/profile/update`
- `/users/change-password`
- `/users/list`

### üé≠ MSW –ú–æ–∫–∏ (localhost:3000)
- `/api/memes` (list)
- `/api/memes/:id` (detail)
- `/api/memes` POST (create)
- `/api/memes/:id` PATCH (update)
- `/api/memes/:id` DELETE (delete)
- `/api/memes/generate` (AI generation)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env.local:**
   ```bash
   cp .env.example .env.local
   ```

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   # –ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ localhost:8080
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
   ```bash
   npm run dev
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É:**
   - Auth –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `localhost:8080`
   - Memes –∑–∞–ø—Ä–æ—Å—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è MSW

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [QUICKSTART.md](./QUICKSTART.md)
- **–ü–æ–ª–Ω—ã–π –≥–∞–π–¥:** [HYBRID_API_GUIDE.md](./HYBRID_API_GUIDE.md)  
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** [ARCHITECTURE.md](./ARCHITECTURE.md)

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –≤—Å–µ —Ç–∏–ø—ã –∏–∑ OpenAPI
2. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** ‚Äî —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã
3. **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞
4. **DX** ‚Äî autocomplete –∏ type hints
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –ª—ë–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∫/—Ä–µ–∞–ª

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
